{% macro displayPitches(pitches) %}

{%for pitch in pitches%}

<div class="col-md-4">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class=" text-center"><strong>{{pitch.user.username}}</strong></h4>
        </div>
        <div class="panel-body">
            <p><em> posted on {{pitch.posted.strftime("%d %b %Y")}}</em></p>
            <strong>{{pitch.title}}</strong>
            <br>
            {{pitch.text}}
            <br>
            <br>
        </div>
        <div class="panel-footer">
            <a href="/pitch/{{pitch.id}}">View pitch details</a>
            <br>
            <br>
            <span><a href="{{url_for('main.upvote',id = pitch.id)}}"><button class="btn btn-sm btn-success">upvote</button></a> {{pitch.upvotes.count()}}</span>
            <span><a href="{{url_for('main.downvote',id = pitch.id)}}"><button class="btn btn-sm btn-danger">downvote</button></a> {{pitch.downvotes.count()}}</span>
        </div>
    </div>
</div>

{% endfor %}

{% endmacro %}

{% macro displayPitchesInCategories(pitches,id)%}

{% for pitch in pitches %}
{% if pitch.category_id==id%}
    <div class="col-md-4">
        <div class="panel panel-default">
            <div class="panel-heading" style="background-color: black;">
                <h4 class="text-center"><strong>{{pitch.user.username}}</strong></h4>
            </div>
            
            <div class="panel-body">
                <p> Posted on {{pitch.posted.strftime('%d %b %y')}}</p>
                <strong>{{pitch.title}}</strong>
                <br>
                {{pitch.text}}
                <br>
                <br>
            </div>
            <div class="panel-footer" style="background-color: black;">
                <a href="/pitch/{{pitch.id}}">View pitch details</a>
                <br>
                <br>
                <span> <a href="{{url_for('main.upvote',id = pitch.id)}}"><button class="btn btn-sm btn-success">upvote</button></a> {{pitch.upvotes.count()}}</span>
                <span> <a href="{{url_for('main.downvote',id = pitch.id)}}"><button class="btn btn-sm btn-danger">downvote</button></a> {{pitch.downvotes.count()}}</span>
            </div>
        </div>
    </div>
{% endif%}
{% endfor %}

{% endmacro%}
        
